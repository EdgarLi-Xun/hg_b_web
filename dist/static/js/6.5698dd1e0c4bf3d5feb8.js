webpackJsonp([6],{1006:function(e,t,a){(e.exports=a(90)(!1)).push([e.i,".dialog-ul[data-v-3cc4a73f]{list-style-type:none}",""])},1032:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("客户管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("客户信息")])],1)],1),e._v(" "),a("div",{staticClass:"crumbs"},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{placeholder:"客户昵称/手机号/邮箱/编号 - 搜索",icon:"search","on-icon-click":e.handleSearch},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleSearch(t):null}},model:{value:e.params.keywords,callback:function(t){e.$set(e.params,"keywords",t)},expression:"params.keywords"}})],1),e._v("\n            \n        "),a("el-col",{attrs:{span:8}},[a("el-button",{attrs:{type:"info"},on:{click:function(t){e.handleSearch()}}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"info"},on:{click:function(t){e.handleCreate()}}},[e._v("新增客户")]),e._v(" "),a("el-button",{attrs:{type:"info"},on:{click:function(t){e.removeParams()}}},[e._v("清空条件")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"客户详情",visible:e.editCustomerDialog,top:"20%"},on:{"update:visible":function(t){e.editCustomerDialog=t}}},[a("el-form",{attrs:{model:e.detailsForm}},[a("el-form-item",[a("el-col",{attrs:{span:8}},[a("ul",[a("el-form-item",[a("h3",{staticStyle:{display:"inline"}},[e._v(" "+e._s(e.detailsForm.grade?e.filterGrade(e.detailsForm.grade):"客户等级")+"--"+e._s(e.detailsForm.serialNumber?e.detailsForm.serialNumber:"客户编号"))])]),e._v(" "),a("el-form-item",[a("img",{staticClass:"border-logo",attrs:{src:"",alt:"客户头像"}})])],1)]),e._v(" "),a("el-col",{attrs:{span:12}},[a("ul",{staticClass:"dialog-ul"},[a("li",[a("el-form-item",{attrs:{label:"昵称"}},[a("el-input",{model:{value:e.detailsForm.nickname,callback:function(t){e.$set(e.detailsForm,"nickname","string"==typeof t?t.trim():t)},expression:"detailsForm.nickname"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{label:"手机号"}},[a("el-input",{model:{value:e.detailsForm.mobile,callback:function(t){e.$set(e.detailsForm,"mobile","string"==typeof t?t.trim():t)},expression:"detailsForm.mobile"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{label:"邮箱"}},[a("el-input",{model:{value:e.detailsForm.email,callback:function(t){e.$set(e.detailsForm,"email","string"==typeof t?t.trim():t)},expression:"detailsForm.email"}})],1)],1)])])],1),e._v(" "),a("el-form-item",{attrs:{label:"性别：","label-width":e.formLabelWidth}},[a("el-col",{attrs:{span:12}},[a("el-radio-group",{model:{value:e.detailsForm.sex,callback:function(t){e.$set(e.detailsForm,"sex",t)},expression:"detailsForm.sex"}},[a("el-radio",{attrs:{label:"帅男"}}),e._v(" "),a("el-radio",{attrs:{label:"靓女"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"密码：","label-width":e.formLabelWidth}},[a("el-col",{attrs:{span:12}},[e.detailsForm.id?a("el-button",{attrs:{type:"info"},on:{click:function(t){e.changePassword(e.detailsForm.id)}}},[e._v("修改密码")]):a("el-input",{attrs:{type:"password"},model:{value:e.detailsForm.password,callback:function(t){e.$set(e.detailsForm,"password","string"==typeof t?t.trim():t)},expression:"detailsForm.password"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"生日：","label-width":e.formLabelWidth}},[a("el-col",{attrs:{span:8}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.detailsForm.birthday,callback:function(t){e.$set(e.detailsForm,"birthday",t)},expression:"detailsForm.birthday"}})],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("span",[e._v("客户等级:")]),e._v(" "),a("el-select",{attrs:{placeholder:"选择等级"},model:{value:e.detailsForm.grade,callback:function(t){e.$set(e.detailsForm,"grade",t)},expression:"detailsForm.grade"}},[a("el-option",{attrs:{label:"普通",value:"COMMON"}}),e._v(" "),a("el-option",{attrs:{label:"白金",value:"PLATINUM"}}),e._v(" "),a("el-option",{attrs:{label:"黄金",value:"GOLDEN"}}),e._v(" "),a("el-option",{attrs:{label:"钻石",value:"DIAMOND"}}),e._v(" "),a("el-option",{attrs:{label:"超级",value:"SVIP"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"地址：","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"多个地址用逗号分开"},model:{value:e.detailsForm.address,callback:function(t){e.$set(e.detailsForm,"address",t)},expression:"detailsForm.address"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancelEdit}},[e._v("先等等")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.confirmLoading},on:{click:e.confirmEdit}},[e._v("没差了")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"修改密码",visible:e.changePasswordDialog,top:"20%"},on:{"update:visible":function(t){e.changePasswordDialog=t}}},[a("el-form",{attrs:{model:e.passwordForm}},[a("el-form-item",{attrs:{label:"新密码：","label-width":e.formLabelWidth}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{type:"password"},model:{value:e.passwordForm.newPassword,callback:function(t){e.$set(e.passwordForm,"newPassword","string"==typeof t?t.trim():t)},expression:"passwordForm.newPassword"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.changePasswordDialog=!1}}},[e._v("不想改了")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirmChangePwd}},[e._v("准奏")])],1)],1),e._v(" "),a("div",{staticClass:"crumbs"},[a("el-collapse",{attrs:{accordion:""}},[a("el-collapse-item",{attrs:{title:"筛选查询"}},[a("div",{staticClass:"el-form-item"},[a("span",{staticClass:"el-form-item__label"},[e._v("客户生日:")]),e._v(" "),a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.params.birthday,callback:function(t){e.$set(e.params,"birthday",t)},expression:"params.birthday"}})],1),e._v(" "),a("div",{staticClass:"el-form-item"},[a("span",{staticClass:"el-form-item__label"},[e._v("客户等级:")]),e._v(" "),a("el-select",{attrs:{placeholder:"选择等级"},model:{value:e.params.grade,callback:function(t){e.$set(e.params,"grade",t)},expression:"params.grade"}},[a("el-option",{attrs:{label:"普通",value:"COMMON"}}),e._v(" "),a("el-option",{attrs:{label:"白金",value:"PLATINUM"}}),e._v(" "),a("el-option",{attrs:{label:"黄金",value:"GOLDEN"}}),e._v(" "),a("el-option",{attrs:{label:"钻石",value:"DIAMOND"}}),e._v(" "),a("el-option",{attrs:{label:"超级",value:"SVIP"}})],1)],1),e._v(" "),a("div",{staticClass:"el-form-item"},[a("span",{staticClass:"el-form-item__label"},[e._v("加入日期范围:")]),e._v(" "),a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd"},model:{value:e.params.startTime,callback:function(t){e.$set(e.params,"startTime",t)},expression:"params.startTime"}}),e._v(" "),a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd"},model:{value:e.params.endTime,callback:function(t){e.$set(e.params,"endTime",t)},expression:"params.endTime"}})],1)])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",height:"","element-loading-text":"主人稍等,玩命加载中..."}},[a("el-table-column",{attrs:{prop:"serialNumber",label:"编号",sortable:"","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"nickname",label:"昵称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sex",label:"性别"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"帅男"===t.row.sex?"primary":"success","close-transition":""}},[e._v(e._s(t.row.sex))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"手机号","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"email",label:"邮箱","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"birthday",label:"生日",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"grade",label:"等级",sortable:"",formatter:e.formatter}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{layout:"total, prev, pager, next, jumper",total:e.totalElements,"current-page":e.number,"page-size":e.size},on:{"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]}},1050:function(e,t,a){var l=a(1006);"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);a(195)("c97cbd34",l,!0)},499:function(e,t,a){a(1050);var l=a(194)(a(993),a(1032),"data-v-3cc4a73f",null);e.exports=l.exports},669:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});new Date;function l(e){return("00"+e).substr(e.length)}t.default={formatDate:function(e,t){t||(t="yyyy-MM-dd hh:mm:ss");e=new Date(e);/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));var a={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(var s in a)if(new RegExp("("+s+")").test(t)){var r=a[s]+"";t=t.replace(RegExp.$1,1===RegExp.$1.length?r:l(r))}return t}}},993:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(669);a.n(l);t.default={data:()=>({resBaseUrl:"/api",params:{keywords:null,birthday:null,sex:null,grade:null,startTime:null,endTime:null},tableData:[],detailsForm:{id:null,serialNumber:null,nickname:null,mobile:null,password:null,birthday:null,email:null,logoRes:null,sex:"帅男",grade:"COMMON",address:null},passwordForm:{id:null,newPassword:""},formLabelWidth:"120px",number:0,size:10,totalPages:1,totalElements:0,editCustomerDialog:!1,changePasswordDialog:!1,listLoading:!1,confirmLoading:!1}),mounted(){this.loadData()},watch:{editCustomerDialog:{handler:function(){this.editCustomerDialog||(this.cancelEdit(),this.loadData())},deep:!0}},methods:{removeParams(){this.params={keywords:null,birthday:null,grade:null,startTime:null,endTime:null}},handleSearch(){this.loadData()},handleCreate(){this.editCustomerDialog=!0},handleCurrentChange(e){this.number=e,this.loadData()},loadData(){this.listLoading=!0;const e=this.number-1;this.params;this.size;const t=[{createdDate:1538933808e3,updatedDate:1534933808e3,id:1143134,serialNumber:"HGCS1001",nickname:"13115920745",mobile:"180333333333",email:"123@qq.com",birthday:"2018-01-01",sex:"美女",grade:"COMMON"},{createdDate:1538933808e3,updatedDate:1534933808e3,id:1313134,serialNumber:"HGCS1002",nickname:"13115920747",mobile:"180333333333",email:"123@qq.com",birthday:"2018-01-01",sex:"帅男",grade:"COMMON"},{createdDate:1538933808e3,updatedDate:1534933808e3,id:1134,serialNumber:"HGCS1003",nickname:"13115920746",mobile:"180333333333",email:"123@qq.com",birthday:"2018-01-01",sex:"帅锅",grade:"PLATINUM"}],a=3,l=1,s=10;this.tableData=t,this.totalPages=l,this.totalElements=a,this.size=s,this.listLoading=!1},formatter(e,t){return this.filterGrade(e.grade)},filterGrade(e){switch(e){case"COMMON":return"普通";case"PLATINUM":return"白金";case"GOLDEN":return"黄金";case"DIAMOND":return"钻石";case"SVIP":return"超级";default:return""}},filterTag:(e,t)=>t.sex===e,changePassword(e){this.changePasswordDialog=!0,this.passwordForm.id=e},confirmChangePwd(){this.passwordForm;this.$notify({title:"成功",message:"密码更改成功！",type:"success"}),this.changePasswordDialog=!1},handleEdit(e,t){this.editCustomerDialog=!0;let a=t;this.detailsForm=a},cancelEdit(){this.editCustomerDialog=!1,this.detailsForm={id:null,serialNumber:null,nickname:null,mobile:null,password:null,birthday:null,email:null,logoRes:null,sex:"帅男",grade:null,address:null}},confirmEdit(){this.confirmLoading=!0;this.detailsForm.id;this.editCustomerDialog=!1,this.$notify({title:"成功",message:"操作成功！",type:"success"}),this.loadData(),this.confirmLoading=!1},handleDelete(e,t){this.$confirm("你确定删除嘛？此操作不可撤销!","提示",{confirmButtonText:"老子不想要了",cancelButtonText:"手误",type:"warning"}).then(()=>{this.deleteOne()})},deleteOne(e){this.$notify({title:"成功",message:"删除成功！",type:"success"})}}}}});